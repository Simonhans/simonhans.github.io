<!-- build time:Wed Oct 28 2020 14:58:15 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="的博客" href="https://simonhans.js.org/rss.xml"><link rel="alternate" type="application/atom+xml" title="的博客" href="https://simonhans.js.org/atom.xml"><link rel="alternate" type="application/json" title="的博客" href="https://simonhans.js.org/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.3"><meta name="keywords" content="MYSQL"><link rel="canonical" href="https://simonhans.js.org/MYSQL/MYSQL%E4%B8%ADnull%E4%B8%8E%E7%A9%BA%E5%80%BC%E7%9A%84%E5%8C%BA%E5%88%AB/"><title>MYSQL 中 null 与空值的区别 - MYSQL | Simon Hans = 的博客</title><meta name="generator" content="Hexo 5.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">MYSQL 中 null 与空值的区别</h1><div class="meta"><span class="item" title="创建时间：2020-08-13 21:45:48"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2020-08-13T21:45:48+08:00">2020-08-13</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>1.9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>2 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Simon Hans</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="https://tva2.sinaimg.cn/large/6833939bly1gicis3attqj20zk0m8k7l.jpg"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main id="main"><div class="inner"><div id="content" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/MYSQL/" itemprop="item" rel="index" title="分类于 MYSQL"><span itemprop="name">MYSQL</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://simonhans.js.org/MYSQL/MYSQL%E4%B8%ADnull%E4%B8%8E%E7%A9%BA%E5%80%BC%E7%9A%84%E5%8C%BA%E5%88%AB/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Simon Hans"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="的博客"></span><div class="body md" itemprop="articleBody"><p>平时我们在使用 MySQL 的时候，对于 MySQL 中的 NULL 值和空值区别不能很好的理解。注意到 NULL 值是未知的，且占用空间，不走索引，DBA 建议建表的时候最好设置字段是 NOT NULL 来避免这种低效率的事情的发生。</p><h2 id="问题-1-首先我们需要搞清楚-空值-和null的概念"><a class="anchor" href="#问题-1-首先我们需要搞清楚-空值-和null的概念">#</a> 问题 1： 首先，我们需要搞清楚 &quot;空值&quot; 和 &quot;NULL&quot; 的概念</h2><pre><code>1：空值('')是不占用空间的
2: MySQL中的NULL其实是占用空间的。官方文档说明:
</code></pre><p><em>“NULL columns require additional space in the row to record whether their values are NULL. For MyISAM tables, each NULL column takes one bit extra, rounded up to the nearest byte.”</em><br>长度验证：注意空值的 '' 之间是没有空格的。</p><p></p><figure class="highlight plain"><figcaption><span>demo</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select length(&#39;&#39;),length(null),length(&#39;  &#39;);</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| length(&#39;&#39;) | length(null) | length(&#39;  &#39;) |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">|          0 |         NULL |            2 |</span><br><span class="line">+------------+--------------+--------------+</span><br></pre></td></tr></table></figure><p></p><h2 id="问题2"><a class="anchor" href="#问题2">#</a> 问题 2：</h2><p>判断字段不为空的时候，查询语句到底是用 select * from tablename where columnname &lt;&gt; '' 还是用<br>select * from tablename where column is not null，2 个查询语句有何区别。**<br>首先创建一张表来看一下区别，下边是新建的测试表中数据</p><p></p><figure class="highlight plain"><figcaption><span>demo</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from testaa;</span><br><span class="line">+---+------+----+</span><br><span class="line">| a | b    | c  |</span><br><span class="line">+---+------+----+</span><br><span class="line">| 1 | aa   |    |</span><br><span class="line">| 2 |      |    |</span><br><span class="line">| 3 | NULL |    |</span><br><span class="line">| 4 | NULL |    |</span><br><span class="line">| 5 | aafa | fa |</span><br><span class="line">+---+------+----+</span><br></pre></td></tr></table></figure><br><strong>开始验证：test1</strong><p></p><p></p><figure class="highlight plain"><figcaption><span>demo</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from testaa where c is not null;</span><br><span class="line">+---+------+----+</span><br><span class="line">| a | b    | c  |</span><br><span class="line">+---+------+----+</span><br><span class="line">| 1 | aa   |    |</span><br><span class="line">| 2 |      |    |</span><br><span class="line">| 3 | NULL |    |</span><br><span class="line">| 4 | NULL |    |</span><br><span class="line">| 5 | aafa | fa |</span><br><span class="line">+---+------+----+</span><br></pre></td></tr></table></figure><br><mark><strong>可见使用 is not null 不会过滤掉 '' 空值。</strong></mark><br><strong>test2</strong><p></p><p></p><figure class="highlight plain"><figcaption><span>demo</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from testaa where c &lt;&gt; &#39;&#39;;</span><br><span class="line">+---+------+----+</span><br><span class="line">| a | b    | c  |</span><br><span class="line">+---+------+----+</span><br><span class="line">| 5 | aafa | fa |</span><br><span class="line">+---+------+----+</span><br></pre></td></tr></table></figure><br>可见使用 &lt;&gt;'' 可以过滤掉空值；<br><strong>test3</strong><p></p><p></p><figure class="highlight plain"><figcaption><span>demo</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from testaa where b &lt;&gt; &#39;&#39;;</span><br><span class="line">+---+------+----+</span><br><span class="line">| a | b    | c  |</span><br><span class="line">+---+------+----+</span><br><span class="line">| 1 | aa   |    |</span><br><span class="line">| 5 | aafa | fa |</span><br><span class="line">+---+------+----+</span><br></pre></td></tr></table></figure><br><mark><strong>可见 &lt;&gt;'' 可以同时过滤掉 null 值和 '' 空值。</strong></mark><br><strong>test4</strong><br>看一下 null 和空值是否会计入 count () 行数量<p></p><p></p><figure class="highlight plain"><figcaption><span>demo</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select count(b),count(c) from testaa;</span><br><span class="line">+----------+----------+</span><br><span class="line">| count(b) | count(c) |</span><br><span class="line">+----------+----------+</span><br><span class="line">| 3 | 5 |</span><br><span class="line">+----------+----------+</span><br></pre></td></tr></table></figure><br><mark><strong>可见 NULL 是不会计入数量的，而 '' 空值会计入行数量。</strong></mark><p></p><h2 id="总结"><a class="anchor" href="#总结">#</a> <strong>总结：</strong></h2><p><strong>1</strong>：在进行 count () 统计某列的记录数的时候，如果采用的 NULL 值，会别系统自动忽略掉，但是空值是会进行统计到其中的。<br><strong>2：</strong> 判断 NULL 用 IS NULL 或者 is not null,SQL 语句函数中可以使用 ifnull () 函数来进行处理，判断空字符用 ='' 或者 &lt;&gt;'' 来进行处理。<br><strong>By the way</strong> 对于 timestamp 数据类型，如果往这个数据类型插入的列插入 NULL 值，则出现的值是当前系统时间。插入空值，则会出现 '0000-00-00 00:00:00' 。</p><div class="tags"><a href="/tags/MYSQL/" rel="tag"><i class="ic i-tag"></i> MYSQL</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2020-10-28 14:17:07" itemprop="dateModified" datetime="2020-10-28T14:17:07+08:00">2020-10-28</time> </span><span id="MYSQL/MYSQL中null与空值的区别/" class="item leancloud_visitors" data-flag-title="MYSQL 中 null 与空值的区别" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Simon Hans 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Simon Hans 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="Simon Hans 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Simon Hans <i class="ic i-at"><em>@</em></i>的博客</li><li class="link"><strong>本文链接：</strong> <a href="https://simonhans.js.org/MYSQL/MYSQL%E4%B8%ADnull%E4%B8%8E%E7%A9%BA%E5%80%BC%E7%9A%84%E5%8C%BA%E5%88%AB/" title="MYSQL 中 null 与空值的区别">https://simonhans.js.org/MYSQL/MYSQL中null与空值的区别/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="nav"><div class="item left"></div><div class="item right"><a href="/hello-world/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipex2cdtbj20zk0m8x6p.jpg" title="Hello World"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>Hello World</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98-1-%E9%A6%96%E5%85%88%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E6%90%9E%E6%B8%85%E6%A5%9A-%E7%A9%BA%E5%80%BC-%E5%92%8Cnull%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">问题 1： 首先，我们需要搞清楚 &quot;空值&quot; 和 &quot;NULL&quot; 的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%982"><span class="toc-number">2.</span> <span class="toc-text">问题 2：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">3.</span> <span class="toc-text">总结：</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/MYSQL/MYSQL%E4%B8%ADnull%E4%B8%8E%E7%A9%BA%E5%80%BC%E7%9A%84%E5%8C%BA%E5%88%AB/" rel="bookmark" title="MYSQL中null与空值的区别">MYSQL中null与空值的区别</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Simon Hans" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Simon Hans</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">2</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">1</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">1</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL1NpbW9uaGFucw==" title="https:&#x2F;&#x2F;github.com&#x2F;Simonhans"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS8=" title="https:&#x2F;&#x2F;twitter.com&#x2F;"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS8=" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvbXkvbS9tdXNpYy9wbGF5bGlzdD9pZD0zMTQ3NzI4MTgw" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;my&#x2F;m&#x2F;music&#x2F;playlist?id&#x3D;3147728180"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20v" title="https:&#x2F;&#x2F;weibo.com&#x2F;"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS8=" title="https:&#x2F;&#x2F;about.me&#x2F;"><i class="ic i-address-card"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/hello-world/" title="Hello World">Hello World</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/MYSQL/" title="分类于 MYSQL">MYSQL</a></div><span><a href="/MYSQL/MYSQL%E4%B8%ADnull%E4%B8%8E%E7%A9%BA%E5%80%BC%E7%9A%84%E5%8C%BA%E5%88%AB/" title="MYSQL中null与空值的区别">MYSQL中null与空值的区别</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="footer-image"></div><div class="status"><div class="copyright">&copy; <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Simon Hans @ Simon Hans</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">2k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">2 分钟</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"MYSQL/MYSQL中null与空值的区别/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)不要離開我嘛！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.3"></script></body></html><!-- rebuild by hrmmi -->